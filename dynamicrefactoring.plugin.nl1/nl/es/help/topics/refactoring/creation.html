<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Crear Refactorizaciones</TITLE>
<link href="../../book.css" rel="stylesheet" type="text/css" />
</HEAD>

<body>
<H1><img align="middle" border="0" src="../images/4.png">Crear Refactorizaciones</H1>
<P>

<OL>
	<LI>Seleccione la opci�n de menú <STRONG>Refactorizaci�n Din�mica &gt; Nueva Refactorizaci�n...</STRONG>
	en Eclipse para iniciar el asistente <STRONG>Creaci�n de Refactorizaci�n Di�mica</STRONG>.</p><br>
	<p align="center"><img border="0" src="../images/refactoring/1.png"></p>
	<p align="center"><a name="_Toc176096200"><font size="1"><b>Opci�n "Nueva Refactorizaci�n..."</b></font></a></p><br>
	<p>Se iniciar� un asistente que le guiar� a trav�s de todo el proceso de creaci�n de una nueva 
	refactorizaci�n.
	<br>Se explicar�n a continuaci�n cada uno de los cinco pasos que componen el asistente. Puede cancelar el
	proceso de creaci�n en cualquier momento, as� como retroceder a cualquiera de los pasos previos o avanzar
	al paso siguiente (una vez que todos los datos necesarios han sido completados).</p><br>
	</LI>

	<LI>En esta p�gina tendr� que proporcionar informaci�n general acerca de la refactorizaci�n:</p><br>
	<p align="center"><img border="0" src="../images/refactoring/2.png"></p>
	<p align="center"><a name="_Toc176096201"><font size="1"><b>Primer paso: "Crear una nueva refactorizaci�n"</b></font></a></p><br>
		<ul style="margin-top: 0cm; margin-bottom: 0cm" type="disc">
			<li class="MsoNormal">
  			<p style="text-align: left"><STRONG>Nombre</STRONG>:
  			Introduzca el nombre de la refactorizaci�n en este campo. El valor introducido se utilizar� para
  			indentificar la refactorizaci�n en las ventanas de selecci�n de refactorizaciones. Se pueden utilizar
  			espacios en blanco, y es sensible al uso de may�sculas. Si est� utilizando Java 1.6 el nombre puede
  			contener algunos caracteres especiales como tildes o el car�cter <code>'�'</code>. En cualquier caso,
  			no se recomienda, y no se deben utilizar si se est� trabajando con Java 1.5 o versiones anteriores.
  			Se debe completar este campo antes de poder continuar.</p>
  			</li>
  			<li class="MsoNormal">
  			<p style="text-align: left"><STRONG>Descripci�n</STRONG>: Introduzca en este campo una breve descripci�n de lo
  			que hace la refactorizaci�n y por qué. Puede ocupar tantas l�neas como sea necesario. Este campo tambi�n
  			debe ser completado antes de continuar.</p>
  			</li>
  			<li class="MsoNormal">
  			<p style="text-align: left"><STRONG>Imagen</STRONG>: Puede especificar aqué la imagen que quiere asociar
  			a la refactorizaci�n. Pulsando el bot�n con el texto <code>"..."</code> podr� seleccionar el fichero
  			con la imagen. Este campo no es obligatorio.</p>
  				<blockquote>
				<p class="MsoNormal" style="margin-left:35.4pt" align="left"><span lang="en-GB">
				El tama�o ideal de la imagen deber�a ser de unos 450 x 200 p�xeles. Aunque se pueden utilizar
				im�genes m�s grandes, no se mostrar�n completamente en las ventanas de la interfaz. Los formatos
				de imagen aceptados son: <code>GIF</code>, <code>JPG</code>, <code>TIFF</code> y 
				<code>PNG</code>.</span></p>
				</blockquote>
  			</li>
  			<li class="MsoNormal">
  			<p style="text-align: left"><STRONG>Motivaci�n</STRONG>: Debe proporcionar una breve explicaci�n de
  			la motivaci�n que podr�a conducir a aplicar la refactorizaci�n. Este campo es tambi�n obligarorio.</p><br>
  			</li>
  			<li class="MsoNormal">
  			<p style="text-align: left"><STRONG>Palabras clave</STRONG>: Debe proporcionar una lista de palabras
  			clave descriptivas de la refactorizaci�n. Este campo no es obligarorio pero ayuda en la
  			clasificaci�n de las refactorizaciones en la vista del cat�logo.</p><br>
  			</li>
  			<li class="MsoNormal">
  			<p style="text-align: left"><STRONG>Categor�as</STRONG>: Debe asignarse las categor�as a las que
  			la refactorizaci�n pertenece por cada clasificaci�n existente. No es obligatorio asignar una
  			categor�a para cada clasificaci�n pero s� es obligatorio asignar al menos una categor�a para 
  			la clasificaci�n de �mbito (Scope) y debe coincidir con el �mbito de la que ser� la entrada principal
  			de la refactorizaci�n.</p><br>
  			</li>
		</ul>
	</LI>

	<LI>En esta p�gina deben configurarse las entradas de la refactorizaci�n:</p><br>
	<p align="center"><img border="0" src="../images/refactoring/3.png"></p>
	<p align="center"><a name="_Toc176096201"><font size="1"><b>Segundo paso: "Configuraci�n de entradas"</b></font></a></p><br>
	<p>La lista de la derecha (<code>Entradas</code>) muestra las entradas que ya se han seleccionado para la 
	refactorizaci�n.</p>
	<p>La lista de tipos disponibles para las nuevas entradas aparece a la izquierda (<code>Tipos</code>).
	Si quiere a�adir una o m�s entradas a la lista de la derecha, seleccione los tipos de declaraci�n que 
	quiere que tengan, y pulse el bot�n con la flecha apuntando hacia la derecha
	(<img border="0" src="../../../icons/arrow_right.gif">). Si necesita varias entradas con el mismo tipo,
	podr� repetir la operaci�n tantas veces como sea necesario.
	<p>Para eliminar la entrada o las entradas seleccionadas de la lista de <code>Entradas</code>, pulse
	el bot�n con el s�mbolo del aspa (<img border="0" src="../../../icons/delete.gif">). 
	<p>Tambi�n puede reordenar las entradas mediante los botones con las flechas apuntando hacia arriba y hacia
	abajo (<img border="0" src="../../../icons/arrow_up.gif"> y <img border="0" src="../../../icons/arrow_down.gif">).
	El orden que tengan cuando se cree la refactorizaci�n se mantendr� en todo el <i>plugin</i> y su interfaz.</p>
	<p>Para cada entrada que a�ada, podr�a tener que completar los siguientes campos:</p>
	
	<ul style="margin-top: 0cm; margin-bottom: 0cm" type="disc">
  		<li class="MsoNormal">
  		<p style="text-align: left"><STRONG>Nombre</STRONG>: el nombre que se utilizar� para identificar la 
  		entrada m�s adelante en el asistente. Tambi�n se usar� como etiqueta en la ventana de refactorizaci�n
  		empleada para la introducci�n de los valores reales de cada entrada. El nombre puede contener tildes
  		pero no espacios en blanco, y debe completarse para todas las entradas.</p></li>
  		<li class="MsoNormal">
  		<p style="text-align: left"><STRONG>Ra�s</STRONG>: utilice esta casilla de verificaci�n para indicar
  		cu�l de todas las entradas debe utilizarse como entrada principal de la refactorizaci�n. Solo se 
  		puede seleccionar una entrada principal y debe tener uno de los tipos especificados. Una vez que la
  		refactorizaci�n se ha construido y se est� utilizando, la entrada principal ser� aquélla que el usuario
  		pueda seleccionar en un editor Java o en un �rbol de selecci�n de una vista en Eclipse.</p></li>
  		<li class="MsoNormal">
  		<p style="text-align: left"><STRONG>Desde</STRONG>: si el valor o posibles valores asignados a la 
  		entrada acutal se deben obtener a partir de otra, debe especificarlo mediante este desplegable. Si el 
  		usuario debe introducir el valor de la entrada manualmente, deje este campo vac�o.</p></li>
  		<li class="MsoNormal">
  		<p style="text-align: left"><STRONG>M�todo</STRONG>: una vez que se ha seleccionado un valor <code>desde</code>
  		para una entrada, este desplegable mostrar� los m�todos disponibles que devuelven, bien una colecci�n de
  		valores, bien un valor de un tipo asignable a la entrada seleccionada.</p></li>
	</ul>
  

	<p>Antes de poder continuar al siguiente paso, se comprueban algunas restricciones que deben cumplirse:</p>
	<ul style="margin-top: 0cm; margin-bottom: 0cm" type="disc">
  		<li class="MsoNormal">
  		<p style="text-align: left">Debe haberse seleccionado exactamente una entrada ra�z o principal.</p></li>
	
  		<li class="MsoNormal">
  		<p style="text-align: left">La entrada principal debe tener uno de los tipos 
  		<code>moon.core.classdef.ClassDef</code>, <code>moon.core.classdef.MethDec</code>,
  		<code>moon.core.classdef.AttDec</code>, <code>moon.core.classdef.FormalArgument</code>
  		o <code>moon.core.genericity.FormalPar</code> o un subtipo de cualquiera de ellos.</p></li>
  		
  		<li class="MsoNormal">
  		<p style="text-align: left">Todas las entradas deben tener un nombre �nico.</p></li>
  		
  		<li class="MsoNormal">
  		<p style="text-align: left">Si se ha especificado un valor <code>Desde</code> para alguna entrada,  
  		se deber� seleccionar un valor para <code>M�todo</code> tambi�n.</p><br></li>
	</ul>
	
	<p>
	Dentro de la interfaz de este paso tambi�n aparece un campo de texto que permite realizar una b�squeda sobre 
	la lista de tipos (Types).
	<br/>
   Para ello se tiene que pulsar el
	bot�n <img border="0" src="../images/refactoring/4.png">. La b�squeda se ha mejorado notablemente
	permitiendo una notable flexibilidad gracias a la biblioteca Apache Lucene. El conjunto de operadores
	que dicha biblioteca permite aparecen explicados en la siguiente p�gina 
	(<a href="http://lucene.apache.org/java/2_4_0/queryparsersyntax.html">
http://lucene.apache.org/java/2_4_0/queryparsersyntax.html</a>). 
	Adem�s ahora la b�squeda tambi�n se realiza sobre la descripci�n del tipo y devuelve
	resultados priorizados lo que hace las b�squedas m�s significativas.
	</p>
	
	<p align="center"><img border="0" src="../images/refactoring/paso2-busqueda.png"></p>
	<p align="center"><a name="_Toc176096201"><font size="1"><b>B�squeda de elementos</b></font></a></p><br>
  	
	



	<br><p>Cada vez que un tipo es seleccionado dentro de la lista de izquierda (Types) se actualiza el navegador html de la parte inferior
	con la informaci�n del javadoc asociado a dicho tipo. En caso de no encontrarse disponible el fichero javadoc de la misma se muestra una p�gina
	html que indica que la informaci�n solicitada no se encuentra disponible. Esto permite ayudar al usuario a conocer la funcionalidad de cada uno
       	de los tipos disponibles.</p>

	<p>Este navegador html puede ser ampliado arrastrando la parte superior del mismo hacia arriba teniendo presionado el bot�n izquierdo 
	del rat�n.</p><br>
	<p align="center"><img border="0" src="../images/refactoring/5.png"></p>
	
  	</LI><br>
  	
  	<LI>En este paso debe seleccionar las precondiciones que componen la refactorizaci�n.</p><br>
	<p align="center"><img border="0" src="../images/refactoring/6.png"></p>
	<p align="center"><a name="_Toc176096201"><font size="1"><b>Tercer paso: "Selecci�n de precondiciones"</b></font></a></p><br>
  	
	<p class="MsoNormal">La lista de la derecha muestra las precondiciones que han sido ya seleccionadas
  	como parte de la refactorizaci�n.</p>
  	
	
	<p class="MsoNormal">La lista de precondiciones disponibles aparece en la tabla del lado izquierdo.
	Para poder a�adir una o m�s precondiciones a la refactorizaci�n, selecci�nelas en la lista y pulse
  	el bot�n con la flecha apuntando hacia la derecha
 	(<img border="0" src="../../../icons/arrow_right.gif">). Para eliminar cualquiera de los ya seleccionados,
 	marque las precondiciones que desea eliminar y pulse el bot�n con la flecha apuntando hacia la izquierda.
 	(<img border="0" src="../../../icons/arrow_left.gif">). Los elementos seleccionados volver�n a la lista de
 	candidatos.</p>
 	
 	<p class="MsoNormal">Para reordenar la lista de elementos seleccionados, utilice los botones con las flechas
 	apuntando arriba y abajo en la parte derecha
 	(<img border="0" src="../../../icons/arrow_up.gif"> y <img border="0" src="../../../icons/arrow_down.gif">).
 	El orden resultante ser� el mismo en que se verifiquen y ejecuten cuando se ejecute la refactorizaci�n.</p>
 	
 	<p class="MsoNormal">Una vez que ha seleccionado un elemento del repositorio, ser� necesario indicarle al
	<i>plugin</i> qué entradas de la refactorizaci�n deben utilizarse como argumentos del nuevo elemento.Para ello
	se debe seleccionar un elemento de la lista desplegable situada a la derecha de cada par�metro.</p><br>
		<p align="center"><img border="0" src="../images/refactoring/7.png"></p>
		<p align="center"><a name="_Toc176096201"><font size="1"><b>Action parameters</b></font></a></p><br>
		<p class="MsoNormal">Tambi�n se puede visualizar el nombre cualificado de las precondiciones seleccionando el siguiente
		<code>check button</code>:
		<img border="0" src="../images/refactoring/8.png"></p><br>		
  	</LI>

	<LI>
	En la cuarta p�gina del asistente se seleccionan las acciones que conforman la refactorizaci�n:
	
	<p>La interfaz de la cuarta p�gina es similar a la tercera. Para interactuar con ella solo tienes que seguir los mismos pasos que para
       	la p�gina anterior.</p><br>
	
	<p align="center"><img border="0" src="../images/refactoring/9.png"></p>
	<p align="center"><a name="_Toc176096201"><font size="1"><b>Cuarto paso: "Seleccionar las acciones de la refactorizaci�n"</b></font></a></p><br>
	</LI>

	<LI>
	En la quinta p�gina del asistente se seleccionan las postcondiciones que conforman la refactorizaci�n:
	
	<p>La interfaz de la quinta p�gina es similar a la tercera. Para interactuar con ella solo tienes que seguir los mismos pasos que para
       	la p�gina anterior.</p><br>
	
	<p align="center"><img border="0" src="../images/refactoring/10.png"></p>
	<p align="center"><a name="_Toc176096201"><font size="1"><b>Quinto paso: "Seleccionar las postcondiciones de la refactorizaci�n"</b></font></a></p><br>
	</LI>


	<LI>En la sexta p�gina del asistente, podr� asociar hasta dos ejemmplos a la refactorizaci�n.</p><br>
		
	<p>Para a�adir un nuevo ejemplo a la refactorizaci�n, seleccione un fichero <code>TXT</code> o Java 
	que represente el estado del sistema antes de la refactorizaci�n, y un segundo que contenga su estado
	despu�s de aplicarla. Los ejemplos deben consistir siempre de dos ficheros (para el "antes" y el "despu�s"),
	as� que no se podr� continuar si uno de los ejemplos est� completo a medias.</p><br>	
	
	<p align="center"><img border="0" src="../images/refactoring/11.png"></p>
	<p align="center"><a name="_Toc176096201"><font size="1"><b>Sexto paso: "A�ada ejemplos"</b></font></a></p><br>
	</LI>


	<LI>La �ltima p�gina del asistente muestra un resumen informativo de la refactorizaci�n completa, con toda
	la informaci�n introducida por el usuario a trav�s de las p�ginas anteriores.
	
	<p class = "MsoNormal">Una vez que haya revisado la configuraci�n de la refactorizaci�n, puede guardarla 
	pulsando el bot�n <code>Finalizar</code>. La refactorizaci�n creada aparecer� inmediatamente en las ventanas
	de selecci�n de refactorizaciones, identificada por su nombre.</p><br>
	
	<p align="center"><img border="0" src="../images/refactoring/12.png"></p>
	<p align="center"><a name="_Toc176096201"><font size="1"><b>S�ptimo paso: "Confirmaci�n"</b></font></a></p><br>
	</LI>
</OL>

<p><img src="../images/1.png"  alt="Related tasks"></p>

<ul class="NavList">
	<li><a href="./run/init.html">Ejecutar refactorizaciones</a><br></li>
    <li><a href="../export/export.html">Exportar refactorizaciones</a><br></li>
    <li><a href="../export/import.html">Importar refactorizaciones</a><br></li>
    <li><a href="edition.html">Editar refactorizaciones</a><br></li>
    <li><a href="deletion.html">Eliminar refactorizaciones</a><br></li>
</ul>
<p>
<br>
</body>
</html>
